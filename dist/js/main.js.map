{"version":3,"file":"main.js","sourceRoot":"","sources":["../../dev/gameObject.ts","../../dev/wheel.ts","../../dev/car.ts","../../dev/rock.ts","../../dev/main.ts","../../dev/util.ts"],"names":[],"mappings":"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","sourcesContent":["abstract class GameObject {\r\n    public div:HTMLElement;\r\n    public x:number;\r\n    public y:number;\r\n    public height:number;\r\n    public width:number;\r\n\r\n    constructor(tag:string, x:number, y:number, height:number, width:number){\r\n        this.createDiv(tag, x, y, height, width)\r\n    }\r\n\r\n    private createDiv(tag:string, x:number, y:number, height:number, width:number){\r\n        this.div = document.createElement(tag);\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n}","/// <reference path=\"gameObject.ts\"/>\n\nclass Wheel extends GameObject{\n                        \n    constructor(parent:HTMLElement, x:number, y:number) {\n        super(\"wheel\", x, y, 22, 22);\n        // het DOM element waar de div in geplaatst wordt:\n        let car:HTMLElement = parent;\n\n        car.appendChild(this.div);\n\n        this.div.style.transform =\"translate(\"+this.x+\"px, \"+this.y+\"px)\";\n    }\n}","/// <reference path=\"wheel.ts\"/>\n/// <reference path=\"gameObject.ts\"/>\n\nclass Car extends GameObject{\n\n    private speed:number;\n    private braking:boolean;\n    private wheelsLeft: Wheel;\n    private wheelsRight: Wheel;\n    private crashed: boolean ;\n    private game: Game;\n\n    constructor(g:Game) {\n        super(\"car\", 0, 220, 45, 145);\n        // het DOM element waar de div in geplaatst wordt:\n        let container:HTMLElement = document.getElementById(\"container\");\n\n        container.appendChild(this.div);\n        this.wheelsLeft = new Wheel(this.div, 15, 30);\n        this.wheelsRight = new Wheel(this.div, 100, 30);\n        this.speed = 4;\n\n        this.game = g;\n\n        // hier een keypress event listener toevoegen. een keypress zorgt dat braking true wordt\n        //\n        window.addEventListener(\"keydown\", (e:KeyboardEvent) => this.onKeyDown(e));\n\n        // alvast goed zetten\n\n        this.move();\n    }\n\n    public move():void {\n        // hier de snelheid verlagen als we aan het afremmen zijn\n        //\n\n        if(this.braking == true){\n            this.speed *= 0.98;\n            let score = Math.floor(this.x);\n            document.getElementById(\"score\").innerHTML = \"Score : \" + score;\n        }\n\n        // hier kijken of de x waarde hoger is dan de x van de rots (335)\n        //\n\n        if(this.x < 370){\n            this.x += this.speed;\n        }\n\n        if(this.x > 370){\n            if(!this.crashed){\n                this.game.carCrashed(this.speed);\n                this.stop();\n            }\n            this.crashed = true;\n        }\n\n        // tekenen\n        this.div.style.transform =\"translate(\"+this.x+\"px,\"+this.y+\"px)\";\n    }\n\n    //\n    // hier een method maken voor on key press\n    //\n\n    private stop(){\n        this.speed = 0;\n        Game.getInstance().endGame();\n    }\n\n    private onKeyDown(e){\n        if(e.keyCode){\n            this.halted();\n        }\n    }\n\n    private halted(){\n        this.braking = true;\n    }\n}","///<reference path=\"gameObject.ts\"/>\n\nclass Rock extends GameObject{\n\n    private _speed:number;\n    private car: Car;\n\n    private g : number = 0;\n    //\n    // public set speed(s:number){\n    //     this._speed = s;\n    //     console.log(\"THIS SPEED IS: \" + this._speed);\n    // }\n\n    constructor(c: Car) {\n        super('rock', 509, 209, 62, 62);\n\n        this.car = c;\n\n        let container:HTMLElement = document.getElementById('container');\n\n        container.appendChild(this.div);\n        // this.div.style.transform = \"translate(\"+this.x+\"px, \"+this.y+\"px)\";\n\n        this._speed = 0;\n        this.move();\n    }\n\n    public move():void {\n        // console.log(this.x);\n        // console.log(this.y);\n        // speed optellen zo lang we niet de bodem raken\n        this.x += this._speed;\n        this.y += this.g;\n        this._speed *= 0.98;\n\n        // speed wordt hoger dan 0 zodra de auto de rots raakt\n        if(this.y +62 > document.getElementById('container').clientHeight){\n            this._speed = 0;\n            this.g = 0;\n        }\n        //teken de div op de juiste positie\n        this.div.style.transform = \"translate(\"+this.x+\"px, \"+this.y+\"px)\";\n    }\n\n    public crashed(carSpeed:number) : void{\n        this._speed = carSpeed;\n        this.g = 9.81;\n    }\n}","/// <reference path=\"car.ts\"/>\n/// <reference path=\"rock.ts\"/>\n\nclass Game {\n\n    private car : Car;\n    //private cars: Array<Car>;\n    //private rocks: Array<Rock>;\n    private rock : Rock;\n    private static instance : Game;\n\n    constructor() {\n        let container = document.getElementById(\"container\");\n        this.car = new Car(this);\n        //this.cars = new Array<Car>();\n        //this.rocks = new Array<Rock>();\n        // let numCars =  Math.floor(Math.random() * 8) + 1;\n\n        /*for(let i = 0; i < numCars ; i++){\n            this.cars.push(new Car(container));\n        }*/\n\n        // let numRocks =  Math.floor(Math.random() * 8) + 1;\n\n        /*for(let i = 0; i < numRocks ; i++){\n            this.cars.push(new Rock(container));\n        }*/\n        this.rock = new Rock(this.car);\n        requestAnimationFrame(() => this.gameLoop());\n    }\n\n    public static getInstance(){\n        if(!Game.instance){\n            Game.instance = new Game();\n        }\n        return Game.instance;\n    }\n\n    private gameLoop(){\n        // van elke car de move aanspreken\n    /*\n     * for(let car of this.cars){\n        car.move()\n     }\n       */\n\n        // if(Util.checkCollision(this.car, this.rock)){\n        //     console.log(\"Hit\");\n        //     this.rock.move();\n        // }\n\n    /*for(car){for(rock){\n    * if(Util.checkCollision(car, rock)){\n    *   //this.car.stop();\n    *   //this.gameOver(0);\n    * }}}\n    *\n    * */\n\n        this.car.move();\n        this.rock.move();\n        requestAnimationFrame(() => this.gameLoop());\n    }\n\n    public endGame(){\n        document.getElementById(\"score\").innerHTML = \"Score : 0\";\n    }\n\n    public carCrashed(carSpeed:number){\n        this.rock.crashed(carSpeed);\n    }\n} \n\n\n// load\nwindow.addEventListener(\"load\", function() {\n    let g:Game = Game.getInstance();\n});","class Util{\r\n    public static checkCollision(g1: GameObject, g2: GameObject):boolean{\r\n\r\n        if(g1.x < g2.x + g2.width &&\r\n            g1.x + g1.width > g2.x &&\r\n            g1.y < g2.y + g2.height &&\r\n            g1.height + g1.y > g2.y){\r\n            return true;\r\n        }\r\n    }\r\n}"]}