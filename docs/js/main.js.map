{"version":3,"file":"main.js","sourceRoot":"","sources":["../../dev/gameObject.ts","../../dev/wheel.ts","../../dev/car.ts","../../dev/rock.ts","../../dev/main.ts","../../dev/util.ts"],"names":[],"mappings":"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","sourcesContent":["abstract class GameObject {\n    public div:HTMLElement;\n    public x:number;\n    public y:number;\n    public height:number;\n    public width:number;\n\n    constructor(tag:string, x:number, y:number, height:number, width:number){\n        this.createDiv(tag, x, y, height, width)\n    }\n\n    private createDiv(tag:string, x:number, y:number, height:number, width:number){\n        this.div = document.createElement(tag);\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n}","/// <reference path=\"gameObject.ts\"/>\n\nclass Wheel extends GameObject{\n                        \n    constructor(parent:HTMLElement, x:number, y:number) {\n        super(\"wheel\", x, y, 22, 22);\n        // het DOM element waar de div in geplaatst wordt:\n        let car:HTMLElement = parent;\n\n        car.appendChild(this.div);\n\n        this.div.style.transform =\"translate(\"+this.x+\"px, \"+this.y+\"px)\";\n    }\n}","/// <reference path=\"wheel.ts\"/>\n/// <reference path=\"gameObject.ts\"/>\n\nclass Car extends GameObject{\n\n    private speed:number;\n    private braking:boolean;\n    private wheelsLeft: Wheel;\n    private wheelsRight: Wheel;\n    private crashed: boolean ;\n    private game: Game;\n\n    constructor(g:Game, i:number, color:string) {\n        super(\"car\", 0, 220, 45, 145);\n        // het DOM element waar de div in geplaatst wordt:\n        let container:HTMLElement = document.getElementById(\"container\");\n\n        container.appendChild(this.div);\n        this.wheelsLeft = new Wheel(this.div, 15, 30);\n        this.wheelsRight = new Wheel(this.div, 100, 30);\n        this.speed = 2 + (Math.random() * 2);\n        this.y = i * (this.height + 27);\n\n        switch (color){\n            case \"geel\":\n                this.div.style.filter = 'hue-rotate(20deg)';\n                break;\n            case \"groen\":\n                this.div.style.filter = 'hue-rotate(40deg)';\n                break;\n            case \"blauw\":\n                this.div.style.filter = 'hue-rotate(140deg)';\n                break;\n            case \"roze\":\n                this.div.style.filter = 'hue-rotate(250deg)';\n                break;\n            case \"paars\":\n                this.div.style.filter = 'hue-rotate(200deg)';\n                break;\n        }\n\n        this.game = g;\n\n        // hier een keypress event listener toevoegen. een keypress zorgt dat braking true wordt\n        //\n        window.addEventListener(\"keydown\", (e:KeyboardEvent) => this.onKeyDown(e));\n\n        // alvast goed zetten\n\n        this.move();\n    }\n\n    public move():void {\n        // hier de snelheid verlagen als we aan het afremmen zijn\n        //\n\n        if(this.x < window.innerWidth){\n            this.x += this.speed;\n        }\n\n        if(this.braking == true){\n            this.speed *= 0.98;\n            let score = Math.floor(this.x);\n            document.getElementById(\"score\").innerHTML = \"Score : \" + score;\n        }\n\n        // hier kijken of de x waarde hoger is dan de x van de rots (335)\n        //\n        // tekenen\n        this.div.style.transform =\"translate(\"+this.x+\"px,\"+this.y+\"px)\";\n    }\n\n    public hitDetection(r:Rock){\n        if(!this.crashed){\n            this.game.carCrashed(this.speed, r);\n            this.stop();\n        }\n        this.crashed = true;\n    }\n\n    //\n    // hier een method maken voor on key press\n    //\n\n    public stop(){\n        this.speed = 0;\n        Game.getInstance().endGame();\n    }\n\n    private onKeyDown(e){\n        if(e.keyCode){\n            this.halted();\n            console.log(\"PUSHED\")\n        }\n    }\n\n    private halted(){\n        this.braking = true;\n    }\n}","///<reference path=\"gameObject.ts\"/>\n\nclass Rock extends GameObject{\n\n    private _speed:number = 4;\n    private g : number = 0;\n    //\n\n    constructor(i:number) {\n        super('rock', 509, 209, 62, 62);\n\n        let container:HTMLElement = document.getElementById('container');\n\n        container.appendChild(this.div);\n        this.y = i * (this.height + 10);\n        this.x = 400 + (Math.random() * 150);\n        this._speed = 0;\n        this.move();\n    }\n\n    public move():void {\n        // speed optellen zo lang we niet de bodem raken\n        this.x += this._speed;\n        this.y += this.g;\n        this._speed *= 0.98;\n\n        // speed wordt hoger dan 0 zodra de auto de rots raakt\n        if(this.y +62 > document.getElementById('container').clientHeight){\n            this._speed = 0;\n            this.g = 0;\n        }\n\n        //teken de div op de juiste positie\n        this.div.style.transform = \"translate(\"+this.x+\"px, \"+this.y+\"px) rotate(\"+ this.x +\"deg)\";\n    }\n\n    public crashed(carSpeed:number) : void{\n        this._speed = carSpeed;\n        this.g = 9.81;\n    }\n}","/// <reference path=\"car.ts\"/>\n/// <reference path=\"rock.ts\"/>\n\nclass Game {\n\n    private cars: Array<Car>;\n    private rocks: Array<Rock>;\n    private static instance : Game;\n\n    constructor() {\n        let container = document.getElementById(\"container\");\n        this.cars = new Array<Car>();\n        this.rocks = new Array<Rock>();\n\n        let colors = [\"geel\", \"groen\", \"blauw\", \"roze\", \"paars\"];\n        let numCars =  Math.floor(Math.random() * 8) + 1;\n\n        for(let i = 0; i < numCars ; i++){\n            let colorIndex = Math.floor(Math.random() * 5);\n            let color = colors[colorIndex];\n            this.cars.push(new Car(this, i, color));\n        }\n\n        let numRocks =  Math.floor(Math.random() * 8) + 1;\n\n        for(let i = 0; i < numRocks ; i++){\n            this.rocks.push(new Rock(i));\n        }\n\n        requestAnimationFrame(() => this.gameLoop());\n    }\n\n    public static getInstance(){\n        if(!Game.instance){\n            Game.instance = new Game();\n        }\n        return Game.instance;\n    }\n\n    private gameLoop(){\n        // van elke car de move aanspreken\n\n         for(let car of this.cars){\n            car.move()\n         }\n\n         for(let rock of this.rocks){\n            rock.move()\n         }\n\n        for(let car of this.cars){\n             for(let rock of this.rocks){\n                 if(Util.checkCollision(car, rock)){\n                     rock.move();\n                     car.hitDetection(rock);\n                 }\n             }\n\n        }\n\n        requestAnimationFrame(() => this.gameLoop());\n    }\n\n    public endGame(){\n        document.getElementById(\"score\").innerHTML = \"Score : 0\";\n    }\n\n    public carCrashed(carSpeed:number, r:Rock){\n        r.crashed(carSpeed);\n    }\n} \n\n\n// load\nwindow.addEventListener(\"load\", function() {\n    let g:Game = Game.getInstance();\n});","class Util{\n    public static checkCollision(g1: GameObject, g2: GameObject):boolean{\n\n        if(g1.x < g2.x + g2.width &&\n            g1.x + g1.width > g2.x &&\n            g1.y < g2.y + g2.height &&\n            g1.height + g1.y > g2.y){\n            return true;\n        }\n    }\n}"]}